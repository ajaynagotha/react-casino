{"ast":null,"code":"var _jsxFileName = \"C:\\\\Ajay N\\\\Projects\\\\react-casino\\\\src\\\\components\\\\ListResults.js\";\nimport React, { Component } from 'react';\nimport { Container, Card, Row, Col, Badge } from 'react-bootstrap'; // import { trackResults } from '../services/trackResults'\n\nimport InfoModal from './InfoModal';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { matchResults } from '../services/matchResults';\nimport Sound from 'react-sound';\nimport beep from '../beep.mp3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ListResults extends Component {\n  constructor() {\n    super();\n\n    this.setModalShow = result => {\n      this.setState({\n        modalShow: true,\n        selectedCasino: \"William Hill Casino\",\n        selectedTable: result.name,\n        selectedResult: result.results.join()\n      });\n    };\n\n    this.setModalHide = () => {\n      this.setState({\n        modalShow: false\n      });\n    };\n\n    this.matchResult = async () => {\n      var results = this.props.results;\n      var stack = [];\n      results = results.map(result => {\n        this.state.filters.forEach(async filter => {\n          var status = await matchResults.applyFilters(result.results.filter((val, idx) => {\n            return idx < (this.props.settings.settings ? Number(this.props.settings.settings.noi) : 10);\n          }), filter, this.props.filters);\n          result[filter] = status;\n          stack.push(status);\n\n          if (status === true) {\n            result.match = \"matching\";\n            console.log(status);\n          }\n        });\n        return result;\n      });\n      await this.setState({\n        CurrentResults: results\n      });\n      await this.setState({\n        CurrentResults: results\n      });\n      console.log(this.state.CurrentResults);\n    };\n\n    this.state = {\n      CurrentResults: [],\n      modalShow: false,\n      selectedCasino: \" \",\n      selectedTable: \" \",\n      selectedResult: \" \",\n      blackNumbers: [2, 4, 6, 8, 10, 11, 13, 15, 17, 20, 22, 24, 26, 28, 29, 31, 33, 35],\n      redNumbers: [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36],\n      filters: [],\n      settings: {},\n      sound: \"STOPPED\"\n    };\n  }\n\n  async componentDidMount() {\n    this.matchResult();\n    await this.setState({\n      CurrentResults: this.props.results\n    });\n    var fl = { ...this.props.filters.currentFilters\n    };\n    var filters = [];\n\n    for (let key in fl) {\n      if (key === \"splits\" || key === \"singles\" || key === \"streets\" || key === \"corners\" || key === \"lines\") {\n        filters.push(key);\n      } else {\n        filters.push(fl[key]);\n      }\n    }\n\n    await this.setState({\n      filters: filters,\n      settings: { ...this.props.settings.settings\n      }\n    }); // trackResults().then((res) => {\n    //     console.log(\"results\", res)\n    //     this.setState({ CurrentResults: res })\n    //     console.log(this.state.CurrentResults)\n    // })\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"result-list\",\n      children: [/*#__PURE__*/_jsxDEV(Sound, {\n        url: beep,\n        playStatus: this.state.sound\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-3 row\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"#\",\n          onClick: this.matchResult,\n          className: \"btn cs-btn float-right ml-auto\",\n          style: {\n            marginRight: 15 + \"px\"\n          },\n          children: \"Track Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), JSON.stringify(this.props.filters.currentFilters), /*#__PURE__*/_jsxDEV(Row, {\n        children: [this.state.CurrentResults.map((result, idx) => {\n          return /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"3\",\n            onClick: e => this.setModalShow(result),\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: `mb-3 shadow ${result.match}`,\n              children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                variant: \"top\",\n                src: \"https://cmscdn.staticcache.org/assets/image/0010/1482715/WHC_40604_GT_EvolutionRouletteLobby_372x372.jpg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                  className: \"text-white\",\n                  children: result.display_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  className: \"clearfix mb-1\",\n                  children: result.results.filter((result, idx) => idx < 5).map((result, idx) => {\n                    return /*#__PURE__*/_jsxDEV(Badge, {\n                      className: this.state.blackNumbers.includes(Number(result)) ? \"badge-black mx-1\" : this.state.redNumbers.includes(Number(result)) ? \"badge-red mx-1\" : Number(result) === 0 ? \"badge-green mx-1\" : \"mx-1\",\n                      children: result\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 65\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  className: \"clearfix mb-1\",\n                  children: result.results.filter((result, idx) => idx > 5 && idx < 11).map((result, idx) => {\n                    return /*#__PURE__*/_jsxDEV(Badge, {\n                      className: this.state.blackNumbers.includes(Number(result)) ? \"badge-black mx-1\" : this.state.redNumbers.includes(Number(result)) ? \"badge-red mx-1\" : Number(result) === 0 ? \"badge-green mx-1\" : \"mx-1\",\n                      children: result\n                    }, idx, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 65\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white text-center mb-0\",\n                  children: \"Casinos:\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 45\n                }, this), result.casinos.map((casino, idx) => {\n                  return /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white\",\n                    children: [casino, idx !== result.casinos.length - 1 ? \",\" : \"\", \"\\xA0\"]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 57\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 37\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 33\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(InfoModal, {\n          casino: this.state.selectedCasino,\n          table: this.state.selectedTable,\n          result: this.state.selectedResult,\n          show: this.state.modalShow,\n          onHide: () => this.setModalHide(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    filters: state.activeFilter,\n    casinos: state.activeFilter,\n    results: state.results,\n    settings: state.activeFilter\n  };\n}\n\nexport default connect(mapStateToProps)(ListResults);","map":{"version":3,"sources":["C:/Ajay N/Projects/react-casino/src/components/ListResults.js"],"names":["React","Component","Container","Card","Row","Col","Badge","InfoModal","connect","Link","matchResults","Sound","beep","ListResults","constructor","setModalShow","result","setState","modalShow","selectedCasino","selectedTable","name","selectedResult","results","join","setModalHide","matchResult","props","stack","map","state","filters","forEach","filter","status","applyFilters","val","idx","settings","Number","noi","push","match","console","log","CurrentResults","blackNumbers","redNumbers","sound","componentDidMount","fl","currentFilters","key","render","marginRight","JSON","stringify","e","display_name","includes","casinos","casino","length","mapStateToProps","activeFilter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Container, Card, Row, Col, Badge } from 'react-bootstrap';\r\n// import { trackResults } from '../services/trackResults'\r\nimport InfoModal from './InfoModal';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { matchResults } from '../services/matchResults';\r\nimport Sound from 'react-sound';\r\nimport beep from '../beep.mp3'\r\nclass ListResults extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            CurrentResults: [],\r\n            modalShow: false,\r\n            selectedCasino: \" \",\r\n            selectedTable: \" \",\r\n            selectedResult: \" \",\r\n            blackNumbers: [2, 4, 6, 8, 10, 11, 13, 15, 17, 20, 22, 24, 26, 28, 29, 31, 33, 35],\r\n            redNumbers: [1, 3, 5, 7, 9, 12, 14, 16, 18, 19, 21, 23, 25, 27, 30, 32, 34, 36],\r\n            filters: [],\r\n            settings: {},\r\n            sound: \"STOPPED\"\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        this.matchResult()\r\n        await this.setState({ CurrentResults: this.props.results })\r\n        var fl = { ...this.props.filters.currentFilters };\r\n        var filters = [];\r\n        for (let key in fl) {\r\n            if ((key === \"splits\") || (key === \"singles\") || (key === \"streets\") || (key === \"corners\") || (key === \"lines\")) {\r\n                filters.push(key)\r\n            }\r\n            else {\r\n                filters.push(fl[key])\r\n            }\r\n        }\r\n        await this.setState({ filters: filters, settings: {...this.props.settings.settings} })\r\n        // trackResults().then((res) => {\r\n        //     console.log(\"results\", res)\r\n        //     this.setState({ CurrentResults: res })\r\n        //     console.log(this.state.CurrentResults)\r\n        // })\r\n    }\r\n    setModalShow = (result) => {\r\n        this.setState({ modalShow: true, selectedCasino: \"William Hill Casino\", selectedTable: result.name, selectedResult: result.results.join() })\r\n    }\r\n    setModalHide = () => {\r\n        this.setState({ modalShow: false })\r\n    }\r\n    matchResult = async () => {\r\n        var results = this.props.results\r\n        var stack = []\r\n        results = results.map(result => {\r\n            this.state.filters.forEach(async (filter) => {\r\n                var status = await matchResults.applyFilters(result.results.filter((val, idx) => { return idx < (this.props.settings.settings ? Number(this.props.settings.settings.noi) : 10) }), filter, this.props.filters)\r\n                result[filter] = status\r\n                stack.push(status)\r\n                if (status === true) {\r\n                    result.match = \"matching\"\r\n                    console.log(status)\r\n                }\r\n            })\r\n            return result\r\n        });\r\n        await this.setState({ CurrentResults: results })\r\n        await this.setState({ CurrentResults: results })\r\n        console.log(this.state.CurrentResults)\r\n    }\r\n    render() {\r\n        return (\r\n            <Container className=\"result-list\">\r\n                <Sound\r\n                    url={beep}\r\n                    playStatus={this.state.sound}\r\n                />\r\n                <div className=\"my-3 row\"><Link to=\"#\" onClick={this.matchResult} className=\"btn cs-btn float-right ml-auto\" style={{ marginRight: 15 + \"px\" }}>Track Results</Link></div>\r\n                {JSON.stringify(this.props.filters.currentFilters)}\r\n                <Row>\r\n                    {\r\n                        this.state.CurrentResults.map((result, idx) => {\r\n                            return (\r\n                                <Col lg='3' onClick={(e) => this.setModalShow(result)} key={idx}>\r\n                                    <Card className={`mb-3 shadow ${result.match}`}>\r\n                                        <Card.Img variant=\"top\" src=\"https://cmscdn.staticcache.org/assets/image/0010/1482715/WHC_40604_GT_EvolutionRouletteLobby_372x372.jpg\" />\r\n                                        <Card.Body>\r\n                                            <Card.Title className='text-white'>{result.display_name}</Card.Title>\r\n                                            <Card.Text className='clearfix mb-1'>\r\n                                                {\r\n                                                    result.results.filter((result, idx) => idx < 5).map((result, idx) => {\r\n                                                        return (<Badge className={(this.state.blackNumbers.includes(Number(result))) ? \"badge-black mx-1\" : (this.state.redNumbers.includes(Number(result))) ? \"badge-red mx-1\" : (Number(result) === 0) ? \"badge-green mx-1\" : \"mx-1\"} key={idx}>{result}</Badge>)\r\n                                                    })\r\n                                                }\r\n                                            </Card.Text>\r\n                                            <Card.Text className='clearfix mb-1'>\r\n                                                {\r\n                                                    result.results.filter((result, idx) => (idx > 5 && idx < 11)).map((result, idx) => {\r\n                                                        return (<Badge className={(this.state.blackNumbers.includes(Number(result))) ? \"badge-black mx-1\" : (this.state.redNumbers.includes(Number(result))) ? \"badge-red mx-1\" : (Number(result) === 0) ? \"badge-green mx-1\" : \"mx-1\"} key={idx}>{result}</Badge>)\r\n                                                    })\r\n                                                }\r\n                                            </Card.Text>\r\n                                        </Card.Body>\r\n                                        <Card.Footer className=\"text-center\">\r\n                                            <p className=\"text-white text-center mb-0\">Casinos:&nbsp;</p>\r\n                                            {\r\n                                                result.casinos.map((casino, idx) => {\r\n                                                    return (\r\n                                                        <span className=\"text-white\" key={idx}>{casino}{(idx !== result.casinos.length - 1) ? \",\" : \"\"}&nbsp;</span>\r\n                                                    )\r\n                                                })\r\n                                            }\r\n                                        </Card.Footer>\r\n                                    </Card>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                    <InfoModal\r\n                        casino={this.state.selectedCasino}\r\n                        table={this.state.selectedTable}\r\n                        result={this.state.selectedResult}\r\n                        show={this.state.modalShow}\r\n                        onHide={() => this.setModalHide(false)}\r\n                    />\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        filters: state.activeFilter,\r\n        casinos: state.activeFilter,\r\n        results: state.results,\r\n        settings: state.activeFilter\r\n    };\r\n}\r\nexport default connect(mapStateToProps)(ListResults);\r\n"]},"metadata":{},"sourceType":"module"}